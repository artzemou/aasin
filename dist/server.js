module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=29)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("styled-jsx/style")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={primaryColor:"#eeeeee",mceBackground:"buttonface"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.host=t.port=void 0;var r,o=n(37),a=(r=o)&&r.__esModule?r:{default:r};var i=t.port=Object({NODE_ENV:"production"}).PORT||8080,s=(t.host="localhost","http://localhost:"+i+"/");s="http://e1428ffe20af4ac58ce22435ed8f642d.yatu.ws",console.log(s,"production"),t.default=a.default.create({baseURL:s,timeout:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setIsLoading=function(e){return{type:"SET_IS_LOADING",isLoading:e}}},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-redux-i18n")},function(e,t){e.exports=require("@material-ui/icons")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(44);var r=void 0;"undefined"!=typeof document&&(r=(0,n(45).default)());t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeaves=t.setLeaves=void 0;var r=n(36),o=n(6),a=t.setLeaves=function(e){return{type:"SET_LEAVES",results:e}};t.getLeaves=function(){return function(e){return(0,r.fetchLeaves)().catch(function(e){return console.error("erreur server: ",e),[]}).then(function(t){e(a(t)),setTimeout(function(){e((0,o.setIsLoading)(!1))},1e3)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signIn=t.setErrors=t.setAuth=void 0;var r=n(46),o=(a(n(0)),a(n(10)),n(7),a(n(11)));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.setAuth=function(e){return{type:"SET_AUTH",auth:e}},s=t.setErrors=function(e){return{type:"SET_ERRORS",error:e}};t.signIn=function(e,t){return function(n){return(0,r.fetchSignIn)(e,t).catch(function(e){console.error("erreur server: ",e)}).then(function(e){return setTimeout(function(){e.errors.length>0?n(s(e.errors)):e.isSignedIn&&(n(i(e)),e.isAdmin?o.default.push("/dashboard"):o.default.push("/"))},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeaf=t.setLeaf=void 0;var r=n(67),o=t.setLeaf=function(e){return{type:"SET_LEAF",result:e}};t.getLeaf=function(e){return function(t){return(0,r.fetchLeaf)(e).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){t(o(e))},0)})}}},function(e,t){e.exports=require("react-resize-detector")},function(e,t){e.exports=require("react-ripples")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadResults=t.update=t.setResults=void 0;var r=n(56),o=n(6),a=t.setResults=function(e){return{type:"SET_RESULTS",results:e}};t.update=function(e){return function(t){return(0,r.fetchUpDate)(e).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){t((0,o.setIsLoading)(!1))},1e3)})}},t.loadResults=function(){return function(e){return(0,r.fetchResults)().catch(function(e){return console.error("erreur server: ",e),[]}).then(function(t){return setTimeout(function(){e(a(t))},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLeaf=void 0;var r,o=n(68),a=n(6),i=(n(14),n(12)),s=n(11),l=(r=s)&&r.__esModule?r:{default:r};t.setLeaf=function(e,t,n,r){return function(s){return(0,o.fetchSetLeaf)(e,t,n,r).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){e&&(s((0,i.getLeaves)()),setTimeout(function(){l.default.push("/page/"+e),s((0,a.setIsLoading)(!1))},750))},0)})}}},function(e,t,n){"use strict";e.exports=function(e){var t=new RegExp("<.[^<>]*>","gi");return e=e.replace(t,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(3)),i=n(0),s=p(i),l=n(69),c=n(1),u=n(2),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={x:0,y:0,arrowPos:null,memuPanelTopPosition:null,memuPanelLeftPosition:null,mcePanelId:null,mcePanelEmement:null,mceArrowDown:!1},n.handleEditorChange=n.handleEditorChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"handleOnBlur",value:function(){this.props.gridItemFocus(null),document.querySelector(".mce-panel")&&document.querySelector(".mce-tinymce-inline")&&(document.querySelector(".mce-tinymce-inline").classList.remove("visible"),document.querySelector(".mce-tinymce-inline").parentNode.removeChild(document.querySelector(".mce-panel")))}},{key:"handleOnClick",value:function(e){this.props.gridItemFocus&&this.props.gridItemFocus(e),document.querySelector(".mce-panel")&&document.querySelector(".mce-tinymce-inline")&&(document.querySelector(".mce-tinymce-inline").classList.remove("visible"),document.querySelector(".mce-tinymce-inline").parentNode.removeChild(document.querySelector(".mce-panel")))}},{key:"handleOnDblclick",value:function(e){var t=this;document.querySelector(".mce-panel")&&(this.setState({memuPanelLeftPosition:null}),document.querySelector(".mce-tinymce-inline")&&(document.querySelector(".mce-tinymce-inline").classList.remove("visible"),document.querySelector(".mce-tinymce-inline").parentNode.removeChild(document.querySelector(".mce-panel"))));var n=this.state,r=n.mcePanelEmement;n.mcePanelId,n.x,n.y,n.mceArrowDown;setTimeout(function(){if(document.querySelector(".mce-tinymce-inline")){var n,o=document.querySelector(".mce-tinymce-inline"),a=document.querySelector("main"),i=document.querySelector("#side-bar"),s=(document.querySelector(".header-grid-layout-container").getBoundingClientRect().height,document.querySelector(".header-viewer").getBoundingClientRect().height,a.clientWidth),l=i.offsetLeft+i.clientWidth,c=parseFloat(o.style.top)+a.scrollTop,u=o.offsetLeft-l-parseFloat(window.getComputedStyle(a).marginLeft);u+o.getBoundingClientRect().width>s&&(u-=u+o.getBoundingClientRect().width-s),n=e.screenX-u-l-80,o.classList.contains("mce-arrow-right")&&o.classList.remove("mce-arrow-right"),o.classList.contains("mce-arrow-left")&&o.classList.remove("mce-arrow-left"),o.classList.contains("mce-arrow-down")?c+=80:o.classList.contains("mce-arrow-up")||(c+=30),t.setState({mcePanelId:o.getAttribute("id"),memuPanelLeftPosition:u,memuPanelTopPosition:c,arrowPos:n,mcePanelEmement:o}),document.querySelector(".mce-tinymce-inline").parentNode.removeChild(document.querySelector(".mce-panel")),document.querySelector("main").appendChild(o),o.classList.add("visible")}else if(r){document.querySelector("main").appendChild(r);var d,f=document.querySelector(".mce-tinymce-inline"),p=document.querySelector("main"),m=document.querySelector("#side-bar"),y=(document.querySelector(".header-grid-layout-container").getBoundingClientRect().height,document.querySelector(".header-viewer").getBoundingClientRect().height,p.clientWidth),h=m.offsetLeft+m.clientWidth,b=parseFloat(f.style.top)+p.scrollTop,g=f.offsetLeft-h-parseFloat(window.getComputedStyle(p).marginLeft);g+f.getBoundingClientRect().width>y&&(g-=g+f.getBoundingClientRect().width-y),d=e.screenX-g-h-80,f.classList.contains("mce-arrow-right")&&f.classList.remove("mce-arrow-right"),f.classList.contains("mce-arrow-left")&&f.classList.remove("mce-arrow-left"),f.classList.contains("mce-arrow-down")?b+=80:f.classList.contains("mce-arrow-up")||(b+=30),t.setState({mcePanelId:f.getAttribute("id"),mcePanelEmement:f,memuPanelLeftPosition:g,memuPanelTopPosition:b,arrowPos:d}),document.querySelector(".mce-tinymce-inline").parentNode.removeChild(document.querySelector(".mce-panel")),document.querySelector("main").appendChild(f),f.classList.add("visible")}},250)}},{key:"handleEditorChange",value:function(e){console.log("editor changed");var t=this.props,n=t.index,r=t.name;(0,t.updateInput)(n,r,e)}},{key:"handleonMouseMove",value:function(e){this.setState({x:e.screenX,y:e.screenY})}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.index,o=t.i18n,c=this.state;c.x,c.y,o.locale;return s.default.createElement(i.Fragment,null,s.default.createElement(l.Editor,{id:r.toString(),apiKey:"p5t98x5vqdbfs0hiit7iwz9u29u82f2oj8gfv5b7bm650kdl",value:n,initialValue:this.props.initialValue||null,init:{theme:"inlite",language_url:"/public/langs/"+o.locale+".js",plugins:["image table link paste textpattern autolink","code","textcolor"],selection_toolbar:"quickimage | link | bold italic | alignleft aligncenter alignright alignjustify | fontsizeselect fontselect",inline:!0,paste_data_images:!0,browser_spellcheck:!1,force_br_newlines:!1,force_p_newlines:!0,forced_root_block:"p",font_formats:"Muli=Muli, sans-serif;Comic Sans MS=comic sans ms,sans-serif;Tahoma=tahoma,arial,helvetica,sans-serif;Symbol=symbol;Andale Mono=andale mono,times;Helvetica=helvetica;"},onEditorChange:this.handleEditorChange,onFocus:function(){return e.handleOnClick(r)},onDblclick:function(t){return e.handleOnDblclick(t)},onMouseMove:function(t){return e.handleonMouseMove(t)},onBlur:function(){return e.handleOnBlur()},onPaste:function(){return e.props.setItemHeigth()}}),s.default.createElement(a.default,{id:"2205545189",dynamic:[f.default.mceBackground,f.default.primaryColor]},["html .mce-panel,body .mce-panel{background:"+f.default.mceBackground+";opacity:0;-webkit-transition:opacity 0 linear 500ms;-webkit-transition:opacity 0 linear 500ms;transition:opacity 0 linear 500ms;}","html .mce-panel .mce-btn,body .mce-panel .mce-btn{background:"+f.default.primaryColor+";}","html .mce-panel.mce-foot,body .mce-panel.mce-foot{opacity:1;}","html .mce-panel.mce-foot .mce-btn,body .mce-panel.mce-foot .mce-btn{color:#595959;background:transparent;border-color:#c5c5c5;}","html .mce-arrow:after,body .mce-arrow:after{opacity:0;}","html .mce-arrow:before,body .mce-arrow:before{opacity:0;}","html .mce-btn.mce-active,body .mce-btn.mce-active{-webkit-box-shadow:none;box-shadow:none;background:rgba(0,0,0,0.1);color:#595959;border-color:transparent;}","html .mce-btn.mce-active.mce-active button,html .mce-btn.mce-active.mce-active i,body .mce-btn.mce-active.mce-active button,body .mce-btn.mce-active.mce-active i{color:#595959;}","html .mce-btn.mce-active.mce-active:hover,html .mce-btn.mce-active.mce-active:focus,html .mce-btn.mce-active.mce-active:active,body .mce-btn.mce-active.mce-active:hover,body .mce-btn.mce-active.mce-active:focus,body .mce-btn.mce-active.mce-active:active{-webkit-box-shadow:none;box-shadow:none;background:rgba(0,0,0,0.1);color:#595959;border-color:transparent;}","html .mce-btn.mce-active.mce-active:hover i,html .mce-btn.mce-active.mce-active:focus i,html .mce-btn.mce-active.mce-active:active i,body .mce-btn.mce-active.mce-active:hover i,body .mce-btn.mce-active.mce-active:focus i,body .mce-btn.mce-active.mce-active:active i{border-top-color:#b5bcc2;}","html .mce-menu-item.mce-active.mce-menu-item-normal,body .mce-menu-item.mce-active.mce-menu-item-normal{background:rgba(0,0,0,0.1);}","html .mce-menu-item.mce-active.mce-menu-item-normal .mce-text,html .mce-menu-item.mce-active.mce-menu-item-normal .mce-ico,body .mce-menu-item.mce-active.mce-menu-item-normal .mce-text,body .mce-menu-item.mce-active.mce-menu-item-normal .mce-ico{color:#595959;}"]),s.default.createElement(a.default,{id:"2987272026",dynamic:[this.state.memuPanelTopPosition,this.state.memuPanelLeftPosition,this.state.arrowPos>20?this.state.arrowPos>534?534:this.state.arrowPos:20,f.default.mceBackground,this.state.arrowPos>20?this.state.arrowPos>534?534:this.state.arrowPos:20]},["html .mce-tinymce-inline.visible,body .mce-tinymce-inline.visible{top:"+this.state.memuPanelTopPosition+"px !important;left:"+this.state.memuPanelLeftPosition+"px !important;display:block !important;opacity:1;}","html .mce-arrow.visible:after,body .mce-arrow.visible:after{opacity:1;left:"+(this.state.arrowPos>20?this.state.arrowPos>534?534:this.state.arrowPos:20)+"px;top:-8px;border-bottom-color:#eeeeee;border-bottom-color:"+f.default.mceBackground+";border-width:0 8px 8px;margin-left:-8px;}","html .mce-arrow.visible:before,body .mce-arrow.visible:before{opacity:1;left:"+(this.state.arrowPos>20?this.state.arrowPos>534?534:this.state.arrowPos:20)+"px;top:-9px;border-top-color:#eeeeee;border-bottom-color:#c5c5c5;border-width:0 9px 9px;margin-left:-9px;}"]))}}]),t}();t.default=(0,c.connect)(function(e){return r({},e)},function(e){return(0,u.bindActionCreators)(r({},d),e)})(m)},function(e,t){e.exports=require("react-grid-layout")},function(e,t){e.exports=require("react-waypoint")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(3)),a=n(0),i=l(a),s=n(9);l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollTo=n.scrollTo.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"scrollTo",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){if(!(n<=0))var r=(t-e.scrollTop)/n*10,o=setInterval(function(){e.scrollTop=e.scrollTop+r,e.scrollTop!==t?scrollTo(e,t,n-10):clearInterval(o)},10)})},{key:"render",value:function(){var e=this,t=this.props.visible;return i.default.createElement(a.Fragment,null,i.default.createElement("div",{onClick:function(){return e.scrollTo(document.querySelector("#view-container"),0,500)},className:"jsx-2366773254 "+((t?"scroll-top-btn visible":"scroll-top-btn")||"")},i.default.createElement(s.KeyboardArrowUp,null)),i.default.createElement(o.default,{id:"2366773254"},[".scroll-top-btn.jsx-2366773254{opacity:0;position:fixed;right:2rem;bottom:1rem;cursor:pointer;border-radius:50%;height:50px;width:50px;border:1px solid rgba(0,0,0,0.1);display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:margin 0 linear;-webkit-transition:margin 0 linear;transition:margin 0 linear;}",".scroll-top-btn.visible.jsx-2366773254{opacity:1;}"]))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCurrentBreakpoint=function(e){return{type:"SET_CURRENT_BREAKPOINT",breakpoint:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyles=t.setComponentStyles=void 0;var r=n(53),o=t.setComponentStyles=function(e){return{type:"SET_COMPONENT_STYLES",result:e}};t.getStyles=function(e){return function(t){return(0,r.fetchGetStyles)(e).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){t(o(e))},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=i(o);i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.error;return a.default.createElement(o.Fragment,null,a.default.createElement("div",{className:"error"},e))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),i=n(0),s=d(i),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),u=n(2);d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.isLoading;this.setState({isLoading:!0})}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.props,t=e.isLoading;e.width;return s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:a.default.dynamic([["2320941589",[this.props.width,this.props.width]]])+" "+((t?"loader":"loader hide")||"")},s.default.createElement("svg",{version:"1.1",width:"40px",height:"40px",viewBox:"0 0 40 40",className:a.default.dynamic([["2320941589",[this.props.width,this.props.width]]])},s.default.createElement("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z",className:a.default.dynamic([["2320941589",[this.props.width,this.props.width]]])}),s.default.createElement("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z",className:a.default.dynamic([["2320941589",[this.props.width,this.props.width]]])},s.default.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite",className:a.default.dynamic([["2320941589",[this.props.width,this.props.width]]])})))),s.default.createElement(a.default,{id:"2320941589",dynamic:[this.props.width,this.props.width]},[".loader.__jsx-style-dynamic-selector{position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".loader.hide.__jsx-style-dynamic-selector{display:none;}",".loader.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:"+this.props.width+";heigth:"+this.props.width+";margin-left:4rem;}",".loader.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector,.loader.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector rect.__jsx-style-dynamic-selector{fill:#333333;}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{styles:e.styles}},function(e){return(0,u.bindActionCreators)(r({},c),e)})(f)},function(e,t){e.exports=require("mysql")},function(e,t,n){"use strict";var r=w(n(30)),o=w(n(31)),a=w(n(0)),i=n(32),s=n(7),l=w(n(33)),c=w(n(84)),u=n(85),d=n(1),f=n(2),p=n(5),m=n(94),y=w(n(95)),h=w(n(96)),b=w(n(97)),g=w(n(98)),v=w(n(100)),x=n(102);function w(e){return e&&e.__esModule?e:{default:e}}var _=(0,r.default)(),k=n(103);_.use(k("./public/fav.ico")),_.get("*.js",function(e,t,n){e.url=e.url+".gz",t.set("Content-Encoding","gzip"),t.set("Content-Type","text/javascript"),n()}),_.use(h.default.json({limit:"50mb"})),_.use(h.default.urlencoded({limit:"50mb",extended:!0,parameterLimit:5e4})),_.use(function(e,t,n){t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET"),t.setHeader("Access-Control-Allow-Methods","POST"),n()}),_.use("/public",r.default.static("dist"),r.default.static("public")),_.use((0,o.default)()),_.use((0,y.default)({name:"session",keys:["**************"],maxAge:864e5})),_.use(function(e,t,n){e.session.auth||(e.session.auth={isSignedIn:!1,isAdmin:!1,errors:[],email:"",password:""}),n()});var j=function(e,t,n){var r=(0,f.createStore)(u.reducer,e),o=a.default.createElement(d.Provider,{store:r},a.default.createElement(s.StaticRouter,{location:t,context:n},a.default.createElement(l.default,null))),p=(0,i.renderToString)(o),m=(0,x.flushToHTML)(),y=t.slice(1);return(0,c.default)({body:p,title:y,reduxState:e,styles:m})};_.post("/results",function(e,t){g.default.getPackages(function(n){t.setHeader("Content-Type","application/json");j({results:n},e.url,{});t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(n))})}),_.post("/getLeaves",function(e,t){g.default.getLeaves(function(n){t.setHeader("Content-Type","application/json");j({results:n},e.url,{});t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(n))})}),_.post("/getLeaf",function(e,t){g.default.getLeaf(e.body.id,function(n){t.setHeader("Content-Type","application/json");j({},e.url,{});t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(n[0]))})}),_.post("/deleteLeaf",function(e,t){g.default.deleteLeaf(e.body.id,function(e){t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e[0]))})}),_.post("/setLeaf",function(e,t){b.default.parallel([function(n){g.default.setLeaf(e.body.id,JSON.stringify(e.body.title),JSON.stringify(e.body.layouts),JSON.stringify(e.body.contents),function(e){t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.insertId)),n(e.insertId)})}],function(e,t){console.log(t,e,"....")})}),_.post("/setStyles",function(e,t){g.default.setStyles(e.body.id,e.body.element,JSON.stringify(e.body.styles),function(e){t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.insertId))})}),_.post("/getStyles",function(e,t){g.default.getStyles(e.body.element,function(e){t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e[0]))})}),_.post("/signIn",function(e,t){g.default.ifEmailExist(e.body.email,function(n){n?g.default.loadPassword(e.body.email,function(n){v.default.compare(e.body.password,n,function(n){n?g.default.checkUserRight(e.body.email,function(n){n.admin?(e.session.auth.email=e.body.email,e.session.auth.password=e.body.password,e.session.auth.isSignedIn=!0,e.session.auth.isAdmin=!0,e.session.auth.errors=[],t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.session.auth))):n.available&&(e.session.auth.email=e.body.email,e.session.auth.password=e.body.password,e.session.auth.isSignedIn=!0,e.session.auth.isAdmin=!1,e.session.auth.errors=[],t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.session.auth)))}):(console.log("incorrect password"),e.session.auth.errors=["Mot de passe incorrect."],t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.session.auth)))})}):(console.log("user not exist"),e.session.auth.errors=["Aucun compte associé à cet email."],t.status(200).send(JSON.stringify(e.session.auth)))})}),_.post("/setLocale",function(e,t,n){console.log(e.body.locale),e.session.locale=e.body.locale,t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.session.locale))}),_.post("/signOut",function(e,t,n){e.session.auth.isSignedIn=!1,e.session.auth.isAdmin=!1,e.session.auth.email="",e.session.auth.password="",e.session.auth.errors=[],t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify(e.session.auth))}),_.post("/signUp",function(e,t,n){g.default.ifEmailExist(e.body.email,function(n){n?(console.log("account already signed up"),t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify({created:!1,accountStatus:"Cet email correspond déjà à un autre utilisateur."}))):v.default.encrypt(e.body.password,function(n){g.default.setPassword(e.body.email,n,e.body.name,e.body.firstName,function(n){console.log("account signed up"),e.session.auth.email=e.body.email,e.session.auth.password=e.body.password,t.setHeader("Content-Type","application/json"),t.status(200).send(JSON.stringify({created:!0,accountStatus:"Votre compte a bien été créé."}))})})})}),_.get("/users",function(e,t){(0,m.fetchUsers)().catch(function(e){return console.error("error while fetching /users: ",e),[]}).then(function(n){var r={users:n},o=j({users:n},e.url,r);t.status(200).send(o)}).catch(function(e){return t.status(500).send(e)})}),_.get("*",function(e,t){var n={},r=j({auth:e.session.auth,i18n:{locale:e.session.locale||"fr"}},e.url,n);if(n.url)return console.log("will redirect to ",n.url),void t.redirect(n.url);t.status(200).send(r)}),_.listen(p.port,function(){console.log("Serving at "+p.port)})},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(3)),i=v(n(0)),s=v(n(34)),l=n(7),c=v(n(35)),u=v(n(47)),d=v(n(15)),f=n(1),p=n(2),m=g(n(12)),y=g(n(25)),h=g(n(24)),b=(v(n(82)),v(n(83)),v(n(4)));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:320},currentBreakpoint:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentBeforeMount",value:function(){this.props.setIsLoading(!0)}},{key:"componentDidMount",value:function(){this.props.getLeaves(),this.props.getStyles("Home")}},{key:"onResize",value:function(e){var t=this.state.breakpoints,n=this.getBreakpointFromWidth(t,e-100);console.log(n,this.props.currentBreakpoint),this.props.currentBreakpoint===this.state.currentBreakpoint?(this.setState({currentBreakpoint:n}),this.props.setCurrentBreakpoint(n)):this.setState({currentBreakpoint:this.props.currentBreakpoint})}},{key:"getBreakpointFromWidth",value:function(e,t){for(var n=this.sortBreakpoints(e),r=n[0],o=1,a=n.length;o<a;o++){var i=n[o];t>e[i]&&(r=i)}return r}},{key:"sortBreakpoints",value:function(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},{key:"render",value:function(){var e=this,t=this.props.auth;t.isSignedIn,t.isAdmin,this.props.leaves;return i.default.createElement("div",{id:"wrap",className:"jsx-3284937264 "+a.default.dynamic([["3571506693",[b.default.primaryColor]]])},i.default.createElement(c.default,null),i.default.createElement(s.default,null),i.default.createElement("canvas",{id:"canvas",className:"jsx-3284937264 "+a.default.dynamic([["3571506693",[b.default.primaryColor]]])}),i.default.createElement("main",{id:"view-container",className:"jsx-3284937264 "+a.default.dynamic([["3571506693",[b.default.primaryColor]]])},i.default.createElement(d.default,{handleWidth:!0,handleHeight:!0,resizableElementId:"view-container",refreshMode:"throttle",refreshRate:1,onResize:function(t){return e.onResize(t)},render:function(e){e.width,e.height;return i.default.createElement("div",{id:"view-content",className:"jsx-3284937264 "+a.default.dynamic([["3571506693",[b.default.primaryColor]]])},i.default.createElement(u.default,null))}})),i.default.createElement(a.default,{id:"3284937264"},['@charset "UTF-8";',"noscript{position:absolute;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;z-index:9999999;padding:1rem;top:0;left:0;right:0;bottom:0;background:#eeeeee;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","*{-webkit-box-sizing:border-box;box-sizing:border-box;}","::-webkit-scrollbar{width:8px;background-color:transparent;}","::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.2);background-color:transparent;}","::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0);background-color:transparent;}",":focus{outline:0;}"]),i.default.createElement(a.default,{id:"3571506693",dynamic:[b.default.primaryColor]},["html{background-color:"+b.default.primaryColor+";color:#444444;font:12pt 'Muli',sans-serif;overflow:hidden;}","html img{max-width:100%;}","html #wrap{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;}","html #wrap #canvas{position:fixed;bottom:0;right:0;}","html #wrap #view-container{position:relative;z-index:1;padding:1rem;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;}","html #wrap #view-container #view-content{margin:18rem auto;max-width:1200px;}","html #wrap #view-container a{cursor:pointer;-webkit-text-decoration:none;text-decoration:none;color:#444444;padding:1rem;-webkit-box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);}","html #wrap #view-container a:focus{-webkit-box-shadow:inset 0 0 20px rgba(0,0,0,0.1);box-shadow:inset 0 0 20px rgba(0,0,0,0.1);}","html #wrap #view-container a:hover{-webkit-box-shadow:inset 0 0 20px rgba(0,0,0,0.1);box-shadow:inset 0 0 20px rgba(0,0,0,0.1);}","html #wrap #view-container .header-viewer button,html #wrap #view-container form button,html #wrap #view-container .color-picker button{position:relative;padding:1rem;margin-bottom:.5rem;margin-right:.5rem;background:buttonface;border:0;-webkit-box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);border-radius:4px;}","html #wrap #view-container .header-viewer button:focus,html #wrap #view-container form button:focus,html #wrap #view-container .color-picker button:focus{-webkit-box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);outline-color:transparent;}","html #wrap #view-container .header-viewer button:hover,html #wrap #view-container form button:hover,html #wrap #view-container .color-picker button:hover{-webkit-box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);outline-color:transparent;}","html #wrap #view-container .header-viewer button.btn-focused,html #wrap #view-container form button.btn-focused,html #wrap #view-container .color-picker button.btn-focused{-webkit-box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);}","@media (max-width:1400px){html #wrap #view-container .header-viewer button.lg,html #wrap #view-container form button.lg,html #wrap #view-container .color-picker button.lg{display:none;}}","html #wrap #view-container .mce-btn{border:0;}","html #wrap #view-container .mce-btn button{background:buttonface;}","html #wrap #view-container form{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:300px;margin:0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","html #wrap #view-container form input,html #wrap #view-container form .mce-content-body{background:transparent;padding:1rem;margin-bottom:.5rem;-webkit-box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);box-shadow:0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);border:0 solid #d9d9d9;border-radius:4px;-webkit-transition:border-color ease-in-out .15s;-webkit-transition:border-color ease-in-out .15s;transition:border-color ease-in-out .15s;}","html #wrap #view-container form input:-webkit-autofill,html #wrap #view-container form .mce-content-body:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #eeeeee inset,0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);box-shadow:0 0 0 1000px #eeeeee inset,0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);}","html #wrap #view-container form input:focus,html #wrap #view-container form .mce-content-body:focus{-webkit-box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);box-shadow:0 2px 3px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3);outline-color:transparent;}","html .react-grid-layout{position:relative;-webkit-transition:height 200ms ease;-webkit-transition:height 200ms ease;transition:height 200ms ease;margin:0 auto;}","html .react-grid-item.react-grid-placeholder{background:rgba(0,0,0,0.2);opacity:0.2;-webkit-transition-duration:100ms;-webkit-transition-duration:100ms;transition-duration:100ms;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}","html .react-grid-item>.react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;cursor:se-resize;}",'html .react-grid-item>.react-resizable-handle::after{content:"";position:absolute;right:12px;bottom:6px;width:8px;height:8px;border-right:2px solid rgba(0,0,0,0.2);border-bottom:2px solid rgba(0,0,0,0.2);}',"html .react-resizable{position:relative;}","html .react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;background-position:bottom right;padding:0 3px 3px 0;background-repeat:no-repeat;background-origin:content-box;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:se-resize;}","html .title .mce-content-body{min-height:calc(100%);padding:1rem;margin-top:0;}","html .mce-content-body,html .item-content{padding:0 1rem 0;margin:30px 0;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;cursor:text;line-height:1.3;}","html .mce-content-body p,html .item-content p{margin:0;width:100%;word-wrap:break-word;}","html .hidden .mce-content-body{opacity:.05;}"]))}}]),t}();t.default=(0,l.withRouter)((0,f.connect)(function(e){return{auth:e.auth,leaves:e.leaves,styles:e.styles,currentBreakpoint:e.currentBreakpoint}},function(e){return(0,p.bindActionCreators)(r({},m,y,h),e)})(x))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(3)),i=n(0),s=f(i),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),u=n(2),d=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opacity:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=this.props.isLoading;return s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:a.default.dynamic([["2927339815",[d.default.primaryColor,this.state.opacity]]])+" "+((e?"svg-container loading":"svg-container")||"")},s.default.createElement("svg",{version:"1.1",width:"40px",height:"40px",viewBox:"0 0 40 40",className:a.default.dynamic([["2927339815",[d.default.primaryColor,this.state.opacity]]])},s.default.createElement("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z",className:a.default.dynamic([["2927339815",[d.default.primaryColor,this.state.opacity]]])}),s.default.createElement("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z",className:a.default.dynamic([["2927339815",[d.default.primaryColor,this.state.opacity]]])},s.default.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite",className:a.default.dynamic([["2927339815",[d.default.primaryColor,this.state.opacity]]])})))),s.default.createElement(a.default,{id:"2927339815",dynamic:[d.default.primaryColor,this.state.opacity]},[".svg-container.__jsx-style-dynamic-selector{display:none;position:absolute;z-index:999;top:0;left:0;right:0;bottom:0;background:"+d.default.primaryColor+";-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".svg-container.loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;opacity:"+this.state.opacity+";}",".svg-container.loading.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{margin-top:-8rem;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;}",".svg-container.loading.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector,.svg-container.loading.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector rect.__jsx-style-dynamic-selector{fill:#333333;}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{isLoading:e.isLoading}},function(e){return(0,u.bindActionCreators)(r({},c),e)})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(3)),i=n(0),s=h(i),l=n(9),c=n(7),u=h(n(16)),d=n(1),f=(n(2),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(12)),n(8)),p=h(n(38)),m=h(n(41)),y=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,isOpened:!0,color:"rgba(0, 0, 0, .1)"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({initDone:!0})}},{key:"handleToggleIsOpened",value:function(){this.state.isOpened?this.setState({isOpened:!1}):this.setState({isOpened:!0})}},{key:"render",value:function(){var e=this,t=this.props.leaves,n=this.props.i18n.locale,r=this.props.auth,o=(r.isSignedIn,r.isAdmin),d=this.state.color;return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement("nav",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])+" nav-bar"},s.default.createElement("ul",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])},s.default.createElement(p.default,null),s.default.createElement("li",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])},s.default.createElement(l.MoreVert,{onClick:function(){e.handleToggleIsOpened()}})))),s.default.createElement("nav",{id:"side-bar",className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])+" "+((this.state.isOpened?"side-bar opened":"side-bar")||"")},s.default.createElement("ul",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])+" side-bar-scrollable"},s.default.createElement("li",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])},s.default.createElement(u.default,{color:d},s.default.createElement(c.Link,{to:"/"},"Home"))),s.default.createElement(m.default,null),o?s.default.createElement("li",{className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])},s.default.createElement(u.default,{color:d},s.default.createElement(c.Link,{to:"/dashboard"},f.I18n.t("app.nav.dashboard")))):null,t.map(function(t,r){return s.default.createElement("li",{key:r,className:a.default.dynamic([["3343202374",[y.default.primaryColor]],["2296683631",[e.state.isOpened?"0":"-200"]]])},s.default.createElement(u.default,{color:d},s.default.createElement(c.Link,{to:"/page/"+t.id,dangerouslySetInnerHTML:{__html:JSON.parse(t.title)?JSON.parse(t.title).hasOwnProperty(""+n)?JSON.parse(t.title)[""+n]:f.I18n.t("app.nav.translation"):f.I18n.t("app.nav.addTitle")}})))}))),s.default.createElement(a.default,{id:"3343202374",dynamic:[y.default.primaryColor]},["html .nav-bar{position:fixed;z-index:10;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;right:1rem;top:0;}","html .nav-bar ul{margin:0;padding:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}","html .nav-bar ul li{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:.25rem;cursor:pointer;}","html .side-bar{width:200px;-webkit-transition:margin 250ms linear;-webkit-transition:margin 250ms linear;transition:margin 250ms linear;z-index:9;height:100vh;overflow-y:auto;background:"+y.default.primaryColor+";}","html .side-bar .side-bar-scrollable{margin:0;padding:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","html .side-bar .side-bar-scrollable li div{display:-webkit-box !important;display:-ms-flexbox !important;display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;word-break:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;}","html .side-bar .side-bar-scrollable li div a{margin:0;cursor:pointer;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-text-decoration:none;text-decoration:none;color:#444444;padding:1rem;-webkit-box-shadow:inset 0 0 1px rgba(0,0,0,0.1);box-shadow:inset 0 0 1px rgba(0,0,0,0.1);}","html .side-bar .side-bar-scrollable li div a p{display:inline-block;margin:0;}","html .side-bar .side-bar-scrollable li div a:focus{-webkit-box-shadow:inset 0 2px 130px rgba(0,0,0,0.1);box-shadow:inset 0 2px 130px rgba(0,0,0,0.1);outline-color:transparent;}","html .side-bar .side-bar-scrollable li div a:hover{-webkit-box-shadow:inset 0 0 2px rgba(0,0,0,0.1);box-shadow:inset 0 0 2px rgba(0,0,0,0.1);outline-color:transparent;}"]),s.default.createElement(a.default,{id:"2296683631",dynamic:[e.state.isOpened?"0":"-200"]},[".side-bar.__jsx-style-dynamic-selector{margin-left:"+(e.state.isOpened?"0":"-200")+"px;}"]))}}]),t}();t.default=(0,d.connect)(function(e){return r({},e)})(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLeaves=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchLeaves=function(){return a.default.post("getLeaves").then(function(e){return e.data})}},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),i=n(0),s=d(i),l=n(1),c=n(2),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props.setLanguage;return s.default.createElement(i.Fragment,null,s.default.createElement("li",{className:"jsx-1467457327"},s.default.createElement("span",{onClick:function(){return e("fr")},className:"jsx-1467457327"},"fr")),s.default.createElement("li",{className:"jsx-1467457327"},"|"),s.default.createElement("li",{className:"jsx-1467457327"},s.default.createElement("span",{onClick:function(){return e("en")},className:"jsx-1467457327"},"en")),s.default.createElement(a.default,{id:"1467457327"},["span.jsx-1467457327{display:-webkit-inline-box;display:-ms-inline-flexbox;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:1rem;}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{locale:e.i18n.locale}},function(e){return(0,c.bindActionCreators)(r({},u),e)})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLanguage=void 0;var r=n(8),o=n(40);t.setLanguage=function(e){return function(t){return(0,o.fetchSetLocale)(e).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){e&&t((0,r.setLocale)(e))},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSetLocale=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSetLocale=function(e){return a.default.post("setLocale",{locale:e}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=p(a),s=n(7),l=n(1),c=n(2),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(42)),d=p(n(16)),f=n(8);p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.signOut=n.signOut.bind(n),n.state={color:"rgba(0, 0, 0, .1)",initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({initDone:!0})}},{key:"signOut",value:function(){this.props.signOut()}},{key:"render",value:function(){this.props.setLanguage;var e=this.state.color;return this.state.initDone&&i.default.createElement(a.Fragment,null,i.default.createElement("li",null,i.default.createElement(d.default,{color:e},i.default.createElement(s.Link,{to:"/signIn"},f.I18n.t("app.nav.login")))),i.default.createElement("li",null,i.default.createElement(d.default,{color:e},i.default.createElement("a",{onClick:this.signOut},f.I18n.t("app.nav.logout")))))}}]),t}();t.default=(0,l.connect)(function(e){return r({},e)},function(e){return(0,c.bindActionCreators)(r({},u),e)})(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signOut=void 0;var r=n(43),o=(i(n(0)),i(n(10)),n(7),i(n(11))),a=n(13);function i(e){return e&&e.__esModule?e:{default:e}}t.signOut=function(){return function(e){return(0,r.fetchSignOut)().catch(function(e){console.error("erreur server: ",e)}).then(function(t){return setTimeout(function(){console.log(t),e((0,a.setAuth)(t)),o.default.push("/signIn")},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSignOut=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSignOut=function(){return a.default.post("signOut").then(function(e){return e.data})}},function(e,t){e.exports=require("history")},function(e,t){e.exports=require("history/createBrowserHistory")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSignIn=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSignIn=function(e,t){return a.default.post("signIn",{email:e,password:t}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=v(a),s=n(7),l=v(n(48)),c=v(n(55)),u=v(n(59)),d=v(n(61)),f=v(n(65)),p=v(n(66)),m=v(n(70)),y=v(n(73)),h=v(n(76)),b=v(n(81)),g=n(1);function v(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){function t(){return x(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.isSignedIn,n=e.component,r=e.path;return t?i.default.createElement(s.Route,{path:r,component:n}):i.default.createElement(s.Route,{path:"/dashboard",component:c.default})}}])}();var k=function(e){function t(){return x(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.auth,n=(t.isSignedIn,t.isAdmin);return i.default.createElement(a.Fragment,null,i.default.createElement(s.Route,{exact:!0,path:"/",render:function(t){return i.default.createElement(l.default,r({},t,{setCSS:e.setCSS}))}}),i.default.createElement(s.Route,{path:"/results",component:c.default}),i.default.createElement(s.Route,{path:"/signIn",component:u.default}),i.default.createElement(s.Route,{path:"/signUp",component:d.default}),i.default.createElement(s.Route,{path:"/swiper",component:m.default}),i.default.createElement(s.Route,{path:"/dashboard",render:function(){return n?i.default.createElement(f.default,null):i.default.createElement("p",null,"Accès reservé")}}),i.default.createElement(s.Route,{path:"/newLeaf",component:p.default}),i.default.createElement(s.Route,{path:"/deletePage",component:y.default}),i.default.createElement(s.Route,{path:"/page/:id",render:function(e){return n?i.default.createElement(h.default,e):i.default.createElement(b.default,e)}}),i.default.createElement(s.Route,{path:"/designModification",component:c.default}))}}]),t}();t.default=(0,s.withRouter)((0,g.connect)(function(e){return{auth:e.auth}})(k))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(3)),i=n(0),s=c(i),l=c(n(49));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,styles:{}},n.setCSS=n.setCSS.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({initDone:!0})}},{key:"setCSS",value:function(e){this.setState({styles:e})}},{key:"render",value:function(){return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement(l.default,r({},this.props,{setCSS:this.setCSS,element:this.constructor.name})),s.default.createElement(a.default,{id:"3591667937",dynamic:[this.state.styles.background]},["main{background:"+this.state.styles.background+" !important;}"]))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=m(a),s=(m(n(10)),n(50)),l=n(1),c=n(2),u=p(n(51)),d=p(n(25)),f=(n(54),n(9));m(n(4));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={styles:{},displayColorPicker:!1},n.handleChangeComplete=n.handleChangeComplete.bind(n),n.handleClick=n.handleClick.bind(n),n.handleClose=n.handleClose.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){console.log(this.props.location.pathname.replace("/","")),this.props.getStyles(this.props.element)}},{key:"componentDidUpdate",value:function(e,t){e.styles!==this.props.styles&&this.props.styles&&this.setState({styles:JSON.parse(this.props.styles.styles)}),t.styles!==this.state.styles&&this.props.setCSS(JSON.parse(this.props.styles.styles))}},{key:"handleChangeComplete",value:function(e){this.props.setCSS(r({},this.state.styles,{background:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})),this.props.setStyles(this.props.styles.id||null,this.props.element,r({},this.state.styles,{background:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"}))}},{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"render",value:function(){return i.default.createElement(a.Fragment,null,i.default.createElement("div",{className:"color-picker"},i.default.createElement("button",{onClick:this.handleClick},i.default.createElement(f.Brush,null)),this.state.displayColorPicker?i.default.createElement("div",{style:{position:"absolute",zIndex:"2"}},i.default.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:this.handleClose}),i.default.createElement(s.ChromePicker,{onChangeComplete:this.handleChangeComplete})):null))}}]),t}();t.default=(0,l.connect)(function(e){return{styles:e.styles}},function(e){return(0,c.bindActionCreators)(r({},u,d),e)})(y)},function(e,t){e.exports=require("react-color")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStyles=void 0;var r,o=n(52),a=n(11);(r=a)&&r.__esModule;t.setStyles=function(e,t,n){return function(r){return(0,o.fetchSetStyles)(e,t,n).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSetStyles=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSetStyles=function(e,t,n){return a.default.post("setStyles",{id:e,element:t,styles:n}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGetStyles=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchGetStyles=function(e){return a.default.post("getStyles",{element:e}).then(function(e){return e.data})}},function(e,t){e.exports=require("react-router")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(3)),i=n(0),s=p(i),l=n(1),c=n(2),u=f(n(17)),d=(f(n(13)),p(n(57)));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,styles:{}},n.setCSS=n.setCSS.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({initDone:!0}),this.props.staticContext&&this.props.staticContext.results&&(console.log(".?..."),this.props.setResults(this.props.staticContext.results))}},{key:"setCSS",value:function(e){console.log(e,void 0===e?"undefined":r(e)),this.setState({styles:e})}},{key:"render",value:function(){var e=this;return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement(d.default,null),s.default.createElement("ul",{className:a.default.dynamic([["816442525",[e.state.styles.mceBackground]]])},this.props.results.map(function(t,n){return s.default.createElement("li",{key:n,dangerouslySetInnerHTML:{__html:t.id+""+t.title},className:a.default.dynamic([["816442525",[e.state.styles.mceBackground]]])})})),s.default.createElement(a.default,{id:"816442525",dynamic:[e.state.styles.mceBackground]},["main{background:"+e.state.styles.mceBackground+" !important;}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{results:e.results,auth:e.auth}},function(e){return(0,c.bindActionCreators)(u,e)})(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchResults=t.fetchUpDate=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchUpDate=function(e){return a.default.post("updatePackages",{data:e}).then(function(e){return e.data})},t.fetchResults=function(){return a.default.post("results").then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(3)),a=n(0),i=l(a),s=l(n(58));l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.parallax=new s.default(this.scene)}},{key:"componentWillUnmount",value:function(){this.parallax.disable()}},{key:"render",value:function(){var e=this;return i.default.createElement("ul",{ref:function(t){return e.scene=t},className:"jsx-2042384592"},i.default.createElement("pre",{"data-depth":"0.20",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement("pre",{"data-depth-x":"0.80","data-depth-y":"-0.80",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement("pre",{"data-depth":"1.00",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement("pre",{"data-depth":"-0.20",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement("pre",{"data-depth-x":"0.50","data-depth-y":"0.80",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement("pre",{"data-depth":"0.01",className:"jsx-2042384592 layer"},"\n          Ici ou là\n          Luciole\n          Lê't ",i.default.createElement("sup",{className:"jsx-2042384592"},"( t )"),"re\n          Terrê là\n          L'à taire Aï ",i.default.createElement("sup",{className:"jsx-2042384592"},"( àï )")),i.default.createElement(o.default,{id:"2042384592"},["ul.jsx-2042384592{height:300px;vertical-align:middle;}"]))}}]),t}();t.default=c},function(e,t){e.exports=require("parallax-js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=s(o),i=s(n(60));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement(o.Fragment,null,a.default.createElement(i.default,null))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=n(0),i=d(a),s=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13)),c=n(2),u=d(n(26));d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={email:"",password:"",errors:[]},n.checkForm=n.checkForm.bind(n),n.validEmail=n.validEmail.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(sessionStorage.getItem("auth"));e&&this.setState({email:e.email,password:e.password})}},{key:"componentWillReceiveProps",value:function(e){console.log(e),this.setState({errors:[].concat(f(e.auth.errors))})}},{key:"checkForm",value:function(e){e.preventDefault();var t=this.state,n=t.email,r=t.password,o=(t.passwordConfirm,t.errors,[]);console.log(!n,!r),n?this.validEmail(n)||(o=[].concat(f(o),["Format email invalide."])):o=[].concat(f(o),["Email obligatoire."]),r||(o=[].concat(f(o),["Mot de passe obligatoire."])),o.length||(sessionStorage.setItem("auth",JSON.stringify(this.state)),this.props.signIn(n,r)),this.setState({errors:[].concat(f(o))})}},{key:"validEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.password,s=t.errors;return i.default.createElement(a.Fragment,null,i.default.createElement("form",{className:"jsx-3315130402"},i.default.createElement("div",{className:"jsx-3315130402 alert__msg"},s.map(function(e,t){return i.default.createElement(u.default,{key:t,error:e})})),i.default.createElement("input",{type:"text",value:n,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Votre email",className:"jsx-3315130402"}),i.default.createElement("input",{type:"password",value:r,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Votre mot de passe",className:"jsx-3315130402"}),i.default.createElement("button",{onClick:function(t){return e.checkForm(t)},className:"jsx-3315130402"},"Connexion"),i.default.createElement("a",{href:"/signUp",className:"jsx-3315130402"},"Créer un compte")),i.default.createElement(o.default,{id:"3315130402"},["form.jsx-3315130402{max-width:300px;}"]))}}]),t}();t.default=(0,s.connect)(function(e){return{auth:e.auth}},function(e){return(0,c.bindActionCreators)(l,e)})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=s(o),i=s(n(62));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement(o.Fragment,null,a.default.createElement(i.default,null))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(3)),i=n(0),s=f(i),l=f(n(26)),c=n(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),d=n(2);f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={firstName:"",name:"",email:"",password:"",passwordConfirm:"",errors:[]},n.checkForm=n.checkForm.bind(n),n.validEmail=n.validEmail.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e),this.setState({errors:[].concat(p(e.signUpState.accountStatus))})}},{key:"checkForm",value:function(e){e.preventDefault();var t=this.state,n=t.firstName,r=t.name,o=t.email,a=t.password,i=t.passwordConfirm,s=(t.errors,[]);console.log(!o,!a),o?this.validEmail(o)||(s=[].concat(p(s),["Format email invalide."])):s=[].concat(p(s),["Email obligatoire."]),a||(s=[].concat(p(s),["Mot de passe obligatoire."])),a!==i&&(s=[].concat(p(s),["Confirnation du mot de passe incorrecte."])),s.length||(sessionStorage.setItem("auth",JSON.stringify(this.state)),this.props.signUp(n,r,o,a)),this.setState({errors:[].concat(p(s))})}},{key:"validEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.firstName,r=t.name,o=t.email,c=t.password,u=t.passwordConfirm,d=t.errors;return s.default.createElement(i.Fragment,null,s.default.createElement("form",{className:"jsx-3315130402"},s.default.createElement("div",{className:"jsx-3315130402 alert__msg"},d.map(function(e,t){return s.default.createElement(l.default,{key:t,error:e})})),s.default.createElement("input",{type:"text",value:n,onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"Votre prénom",className:"jsx-3315130402"}),s.default.createElement("input",{type:"text",value:r,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Votre nom",className:"jsx-3315130402"}),s.default.createElement("input",{type:"text",value:o,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Votre email",className:"jsx-3315130402"}),s.default.createElement("input",{type:"password",value:c,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Votre mot de passe",className:"jsx-3315130402"}),s.default.createElement("input",{type:"password",value:u,onChange:function(t){return e.setState({passwordConfirm:t.target.value})},placeholder:"Confirmez le mot de passe",className:"jsx-3315130402"}),s.default.createElement("button",{onClick:function(t){return e.checkForm(t)},className:"jsx-3315130402"},"Créer un compte")),s.default.createElement(a.default,{id:"3315130402"},["form.jsx-3315130402{max-width:300px;}"]))}}]),t}();t.default=(0,c.connect)(function(e){return{signUpState:e.signUpState}},function(e){return(0,d.bindActionCreators)(r({},u),e)})(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signUp=t.setAccountStatus=void 0;var r=n(64),o=(a(n(0)),a(n(10)),n(7),a(n(11)));n(13);function a(e){return e&&e.__esModule?e:{default:e}}var i=t.setAccountStatus=function(e){return{type:"SET_ACCOUNT_STATUS",accountStatus:e}};t.signUp=function(e,t,n,a){return function(s){(0,r.fetchSignUp)(e,t,n,a).catch(function(e){console.error("erreur server: ",e)}).then(function(e){return setTimeout(function(){console.log(e),s(i(e.accountStatus)),e.created&&o.default.push("/signIn")},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSignUp=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSignUp=function(e,t,n,r){return a.default.post("signUp",{email:n,password:r,firstName:e,name:t}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(3)),i=n(0),s=b(i),l=n(7),c=b(n(16)),u=n(1),d=n(2),f=h(n(17)),p=h(n(6)),m=n(8),y=b(n(11));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,color:"rgba(0, 0, 0, .1)"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({initDone:!0})}},{key:"delayRedirect",value:function(e){console.log(e.target.pathname);var t=e.target.pathname;e.preventDefault(),setTimeout(function(){return y.default.push(t)},200)}},{key:"render",value:function(){var e=this.state.color;return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:"jsx-1382483915 dashboard"},s.default.createElement("div",{className:"jsx-1382483915 dashboard-nav"},s.default.createElement(c.default,{color:e},s.default.createElement(l.Link,{to:"/newLeaf",onClick:this.delayRedirect},m.I18n.t("app.dashboard.editWebspace"))),s.default.createElement(c.default,{color:e},s.default.createElement(l.Link,{to:"/deletePage",onClick:this.delayRedirect},m.I18n.t("app.dashboard.deleteLeaf"))),s.default.createElement(c.default,{color:e},s.default.createElement(l.Link,{to:"/",onClick:this.delayRedirect},m.I18n.t("app.dashboard.designModification"))),s.default.createElement(c.default,{color:e},s.default.createElement(l.Link,{to:"/",onClick:this.delayRedirect},"Modifié droit utilisateur")))),s.default.createElement(a.default,{id:"1382483915"},[".dashboard .dashboard-nav div{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:-webkit-inline-box !important;display:-webkit-inline-flex !important;display:-ms-inline-flexbox !important;display:inline-flex !important;margin-right:.5rem;-webkit-box-shadow:inset 0 0 2px rgba(0,0,0,0.1),0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);box-shadow:inset 0 0 2px rgba(0,0,0,0.1),0 2px 1px rgba(0,0,0,0.1),0 1px 3px rgba(0,0,0,0.3);}"]))}}]),t}();t.default=(0,u.connect)(function(e){return{results:e.results}},function(e){return(0,d.bindActionCreators)(r({},f,p),e)})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=k(n(3)),i=n(0),s=k(i),l=(k(n(10)),n(1)),c=n(2),u=_(n(14)),d=_(n(18)),f=_(n(6)),p=n(8),m=k(n(19)),y=k(n(15)),h=k(n(20)),b=n(21),g=k(n(22)),v=k(n(23)),x=n(9),w=k(n(4));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(0,b.WidthProvider)(b.Responsive),E=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getBreakpointFromWidth=r.getBreakpointFromWidth.bind(r),r.sortBreakpoints=r.sortBreakpoints.bind(r),r.updateInput=r.updateInput.bind(r),r.onAddItem=r.onAddItem.bind(r),r.gridItemFocus=r.gridItemFocus.bind(r),r.state=(j(n={initDone:!1,scrolled:!1,title:null,contents:[],breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:320},checkedViews:{lg:!1,md:!1,sm:!1,xs:!1,xxs:!1}},"breakpoints",{lg:1200,md:996,sm:768,xs:480,xxs:0}),j(n,"cols",{lg:12,md:10,sm:6,xs:4,xxs:2}),j(n,"currentBreakpoint",null),j(n,"layouts",{lg:[],md:[],sm:[],xs:[],xxs:[]}),j(n,"y",0),n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.locale;sessionStorage.removeItem("layouts"),this.setState({currentBreakpoint:this.getBreakpointFromWidth(this.state.breakpoints,document.querySelector("#view-content").clientWidth),initDone:!0,locale:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this;console.log(e.locale,this.props.locale);var r=this.props,o=(r.leaf,r.locale),a=this.state,i=a.layouts,s=a.currentBreakpoint,l=a.checkedViews;if(void 0===e)return!1;if(e.locale!==o){this.setState({initDone:!1});var c=this.state,u=c.title,d=c.layouts,f=c.contents;this.props.setLeaf(null,u,d,f)}t.layouts!==i&&(i.update&&delete i.xxxs,setTimeout(function(){var e=!0,t=!1,r=void 0;try{for(var o,a=document.querySelectorAll(".item")[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value;if(i.offsetHeight<i.childNodes[1].clientHeight+parseInt(window.getComputedStyle(i.childNodes[1]).getPropertyValue("margin-top"))){l[s]=!1,n.setState({checkedViews:l});break}l[s]=!0,n.setState({checkedViews:l})}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}},1e3))}},{key:"getBreakpointFromWidth",value:function(e,t){for(var n=this.sortBreakpoints(e),r=n[0],o=1,a=n.length;o<a;o++){var i=n[o];t>e[i]&&(r=i)}return r}},{key:"sortBreakpoints",value:function(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},{key:"onLayoutChange",value:function(e,t){this.setState({layouts:t}),sessionStorage.setItem("layouts",JSON.stringify(t))}},{key:"updateInput",value:function(e,t,n){var o=this.state,a=o.contents,i=o.title,s=o.layouts,l=o.currentBreakpoint,c=o.freezeUpdate;o.locale;if(this.state.initDone&&document.querySelector(".focused")&&"content"===t){var u=document.querySelector(".focused"),d=u.querySelector(".mce-content-body"),f=d.clientHeight+parseInt(window.getComputedStyle(d).getPropertyValue("margin-top")),y=parseInt(f/10);Object.keys(s).map(function(t,n){s[t][e]&&u.clientHeight-parseInt(window.getComputedStyle(d).getPropertyValue("padding-bottom"))<f&&(s[t][e].h=y+3)}),this.onLayoutChange(s[l][e],r({},s,{xxxs:[]}))}if("title"===t){if((0,m.default)(n)===p.I18n.t("app.newPage.translation"))return;if((0,m.default)(n)===p.I18n.t("app.newPage.addTitle"))return;i?i[""+this.state.locale]=n:(i=new Object)[""+this.state.locale]=n,this.setState({title:i})}if("content"===t){if((0,m.default)(n)===p.I18n.t("app.newPage.draft"))return;if((0,m.default)(n)===p.I18n.t("app.newPage.translation"))return;if(a[e])a[e][""+this.state.locale]=n;else{if(c)return void this.setState({freezeUpdate:!1});a[e]=new Object,a[e][""+this.state.locale]=n}this.setState({contents:a})}}},{key:"onResize",value:function(e){console.log(e+60),this.setState({width:e,currentBreakpoint:this.getBreakpointFromWidth(this.state.breakpoints,e+60)}),window.dispatchEvent(new Event("resize"))}},{key:"onAddItem",value:function(){var e=this,t=this.state.layouts;Object.keys(this.state.layouts).map(function(n,r){console.log(2*t[n].length%e.state.cols[n]==0,":)"),t[n]=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t[n]),[{w:2,h:20,x:2*t[n].length%e.state.cols[n],y:e.state.y,i:t[n].length.toString(),moved:!1,static:!1}]),2*t[n].length%e.state.cols[n]==0&&e.setState({y:e.state.y+20})}),this.setState({layouts:t})}},{key:"onRemoveItem",value:function(e){var t=this.state,n=t.layouts,r=t.contents;this.props.locale;Object.keys(this.state.layouts).map(function(t,r){n[t].splice(e,1),n[t].map(function(e,t){e.i=t.toString()})}),r.splice(e,1),this.setState({freezeUpdate:!0,contents:r,layouts:n})}},{key:"onSetLeaf",value:function(){this.props.setIsLoading(!0);var e=this.state,t=e.title,n=e.layouts,r=e.contents,o=e.checkedViews;this.props.setLeaf(null,t,n,r,o)}},{key:"gridItemFocus",value:function(e){this.setState({focused:e})}},{key:"changeBreakpoint",value:function(e){document.querySelector("#view-content").style.maxWidth=e+"px"}},{key:"render",value:function(){var e=this,t=this.state,n=t.layouts,r=t.cols,o=t.currentBreakpoint,l=t.breakpoints,c=t.checkedViews,u=t.title,d=t.scrolled,f=t.contents,m=t.focused,b=t.locale;return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement(y.default,{handleWidth:!0,handleHeight:!0,resizableElementId:"view",refreshMode:"throttle",refreshRate:1,onResize:function(t){return e.onResize(t)},render:function(t){var i=t.width,y=t.height;return s.default.createElement("div",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" grid-layouts-container"},s.default.createElement("header",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" header-viewer"},s.default.createElement("h2",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])},p.I18n.t("app.newPage.title")||""),s.default.createElement("button",{onClick:e.onAddItem,className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" add-btn"},s.default.createElement(x.Add,null)),s.default.createElement("button",{onClick:function(t,n,r){return e.onSetLeaf(t,n,r)},className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" refresh-btn"},s.default.createElement(x.Refresh,null)),s.default.createElement("h3",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])},p.I18n.t("app.newPage.resolutions")),Object.entries(l).map(function(t,n){return s.default.createElement("button",{key:n,onClick:function(){return e.changeBreakpoint(t[1])},className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" "+((o===""+t[0]?"button-focused":null)||"")},s.default.createElement(x.DesktopWindows,null),t[1],c&&c[""+t[0]]?s.default.createElement(x.Done,null):null)})),s.default.createElement("header",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" header-grid-layout-container"},s.default.createElement("div",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])},"Width:",i,", Height:",y),s.default.createElement("div",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" "+(("title"===m?"title focused":"title")||"")},s.default.createElement(h.default,{index:"title",name:"title",updateInput:e.updateInput,gridItemFocus:e.gridItemFocus,content:u?u.hasOwnProperty(""+b)?u[""+b]:p.I18n.t("app.newPage.translation"):p.I18n.t("app.newPage.addTitle")})),s.default.createElement(g.default,{onEnter:function(t){t.viewportTop,t.event;e.setState({scrolled:!1})},onLeave:function(t){t.viewportTop,t.event;e.setState({scrolled:!0})}})),s.default.createElement(O,{autoSize:!0,rowHeight:10,margin:[0,0],isResizable:!0,useCSSTransforms:!0,draggableCancel:".mce-content-body",cols:r,breakpoints:l,layouts:e.state.layouts,onLayoutChange:function(t,n){return e.onLayoutChange(t,n)},onWidthChange:function(){return console.log(":)")}},o?n[o].map(function(t,n){return s.default.createElement("div",{key:n,"data-grid":{x:t.x,y:t.y,w:t.w,h:t.h},className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" "+((m===n?"focused":null)||"")},s.default.createElement("div",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" "+((m===n?"item focused":"item")||"")},s.default.createElement("div",{className:a.default.dynamic([["1586343009",[w.default.primaryColor]]])+" remove"},n,s.default.createElement(x.Clear,{onClick:e.onRemoveItem.bind(e,n)})),s.default.createElement(h.default,{index:n,name:"content",updateInput:e.updateInput,gridItemFocus:e.gridItemFocus,content:f[n]?f[n].hasOwnProperty(""+b)?f[n][""+b]:p.I18n.t("app.newPage.translation"):p.I18n.t("app.newPage.draft")})))}):null),s.default.createElement(v.default,{visible:d}))}}),s.default.createElement(a.default,{id:"1586343009",dynamic:[w.default.primaryColor]},[".header-viewer.__jsx-style-dynamic-selector{position:fixed;top:0;margin-bottom:1rem;width:100%;background:"+w.default.primaryColor+";z-index:99999;}",".grid-layouts-container.__jsx-style-dynamic-selector{margin-top:200px;}",".grid-layouts-container.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{margin:0 .25rem;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{border:1px dashed rgba(0,0,0,0.1);margin:1rem 5px;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.focused.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector{border:1px dashed rgba(0,0,0,0.1);margin:20px 5px;height:calc(100% - 1rem);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.focused.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .remove.__jsx-style-dynamic-selector{position:absolute;right:1.5rem;top:1.5em;z-index:1;cursor:pointer;color:rgba(0,0,0,0.26);}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{leaf:e.leaf,locale:e.i18n.locale}},function(e){return(0,c.bindActionCreators)(r({},u,d,f),e)})(E)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLeaf=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchLeaf=function(e){return a.default.post("getLeaf",{id:e}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSetLeaf=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchSetLeaf=function(e,t,n,r){return a.default.post("setLeaf",{id:e,title:t,layouts:n,contents:r}).then(function(e){return e.data})}},function(e,t){e.exports=require("@tinymce/tinymce-react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(3)),i=n(0),s=h(i),l=n(1),c=n(2),u=y(n(17)),d=y(n(6)),f=h(n(71)),p=h(n(20)),m=n(9);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,results:[]},n.update=n.update.bind(n),n.updateInput=n.updateInput.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){console.log(this.props.history),this.props.loadResults(),this.setState({initDone:!0})}},{key:"componentWillReceiveProps",value:function(e){console.log(e),this.setState(function(t){return{results:[].concat(b(t.results),b(e.results))}})}},{key:"update",value:function(e){e.preventDefault(),this.props.setIsLoading(!0),this.props.update(this.state.results)}},{key:"updateInput",value:function(e,t,n){console.log(n,e,t);var r=[].concat(b(this.state.results));r[e][t]=n,this.setState({results:r}),console.log(this.state.results)}},{key:"render",value:function(){var e=this,t=this.props.results,n={root:{"&$disabled":{color:"white"}},disabled:{}};return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement("header",{className:"jsx-58255949 header-grid-layout-container"}),s.default.createElement("header",{className:"jsx-58255949 header-viewer"}),s.default.createElement(f.default,{params:{noSwiping:!0,shouldSwiperUpdate:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next.swiper-button-white",prevEl:".swiper-button-prev.swiper-button-white"},slidesPerView:3,spaceBetween:30,breakpoints:{1024:{slidesPerView:3,spaceBetween:30},768:{slidesPerView:2,spaceBetween:30},640:{slidesPerView:2,spaceBetween:30},320:{slidesPerView:1,spaceBetween:0}}}},t.map(function(t,r){return s.default.createElement("div",{key:r,className:"jsx-58255949"},s.default.createElement("form",{method:"post",className:"jsx-58255949"},s.default.createElement("div",{className:"jsx-58255949 refresh"},s.default.createElement(m.Refresh,{style:n,onClick:function(t){return e.update(t)}})),s.default.createElement(p.default,{index:r,name:"title",updateInput:e.updateInput,content:t.title})))})),s.default.createElement(a.default,{id:"58255949"},["div.jsx-58255949{min-height:300px;background:#9966e0;}","form.jsx-58255949{position:relative;}","form.jsx-58255949 .refresh.jsx-58255949{position:absolute;right:.5rem;top:.5rem;cursor:pointer;color:rgba(0,0,0,0.26);z-index:1;}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{results:e.results}},function(e){return(0,c.bindActionCreators)(r({},u,d),e)})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(0)),a=i(n(72));i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props.params;return console.log(e),o.default.createElement(a.default,e,this.props.children)}}]),t}();t.default=s},function(e,t){e.exports=require("react-id-swiper/lib/custom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(3)),i=n(0),s=y(i),l=n(1),c=n(2),u=m(n(74)),d=m(n(12)),f=n(8),p=n(9);y(n(4));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.props.getLeaves()}},{key:"render",value:function(){var e=this,t=this.props,n=t.leaves,r=t.locale;return s.default.createElement(i.Fragment,null,n.map(function(t,n){return s.default.createElement("li",{key:n,className:"jsx-3429303917"},s.default.createElement("div",{className:"jsx-3429303917 remove"},s.default.createElement(p.Delete,{onClick:function(){return e.props.deleteLeaf(t.id)}})),s.default.createElement("span",{dangerouslySetInnerHTML:{__html:JSON.parse(t.title)?JSON.parse(t.title).hasOwnProperty(""+r)?JSON.parse(t.title)[""+r]:f.I18n.t("app.nav.translation"):f.I18n.t("app.nav.addTitle")},className:"jsx-3429303917"}))}),s.default.createElement(a.default,{id:"3429303917"},["li.jsx-3429303917{position:relative;}","li.jsx-3429303917 .remove.jsx-3429303917{position:absolute;right:1.5rem;top:1.5em;z-index:1;cursor:pointer;color:rgba(0,0,0,0.26);}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{leaves:e.leaves,locale:e.i18n.locale}},function(e){return(0,c.bindActionCreators)(r({},d,u),e)})(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLeaf=void 0;var r=n(75),o=n(12);t.deleteLeaf=function(e){return function(t){return(0,r.fetchDeleteLeaf)(e).catch(function(e){return console.error("erreur server: ",e),[]}).then(function(e){return setTimeout(function(){t((0,o.getLeaves)())},0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDeleteLeaf=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchDeleteLeaf=function(e){return a.default.post("deleteLeaf",{id:e}).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=E(n(3)),i=n(0),s=E(i),l=(E(n(10)),n(1)),c=n(2),u=O(n(14)),d=O(n(18)),f=O(n(6)),p=O(n(24)),m=n(8),y=E(n(19)),h=E(n(77)),b=(E(n(78)),E(n(15)),E(n(20))),g=n(21),v=E(n(22)),x=E(n(23)),w=E(n(27)),_=n(9),k=E(n(79)),j=E(n(4));function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var P=n(80);console.log(P.generate());var C=(0,g.WidthProvider)(g.Responsive),M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateInput=n.updateInput.bind(n),n.onAddItem=n.onAddItem.bind(n),n.gridItemFocus=n.gridItemFocus.bind(n),n.setItemHeigth=n.setItemHeigth.bind(n),n.checkAllBreakpointAndUpdate=n.checkAllBreakpointAndUpdate.bind(n),n.state={initDone:!1,scrolled:!1,id:null,title:null,contents:[],breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:320},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{lg:[],md:[],sm:[],xs:[],xxs:[]},y:0,focused:null,transition:"none"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getLeaf(e),this.setState({id:e,initDone:!0})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.match.params.id,a=r.leaf,i=r.locale,s=r.currentBreakpoint,l=this.state,c=l.title,u=l.contents,d=l.layouts,f=l.breakpoints;if(void 0===e)return!1;this.state.id!==o&&this.setState({id:o,contents:[]},function(){n.props.getLeaf(o)}),e.locale!==i&&(this.props.setIsLoading(!0),window.location.reload(),this.props.setLeaf(o,c,d,u),this.props.getLeaf(o)),e.leaf!==a&&(console.log("leaf updated"),a.layouts&&this.setState({transition:"none",title:JSON.parse(a.title),layouts:JSON.parse(a.layouts),contents:JSON.parse(a.contents)},function(){setTimeout(function(){n.setState({transition:"height, transform"})},500)})),e.currentBreakpoint!==s&&(this.setState({transition:"height"}),document.querySelector("#view-content").style.width=f[s]+100+"px",window.dispatchEvent(new Event("resize")),console.log(s),setTimeout(function(){n.setState({transition:"height, transform"}),n.updateInput()},500))}},{key:"onLayoutChange",value:function(e,t){console.log("layouts changed"),this.setState({layouts:t},function(){})}},{key:"setItemHeigth",value:function(){if(this.state.contents.length>0){var e=this.props,t=(e.leaf,e.currentBreakpoint),n=this.state.layouts,r=0,o=[],a=!0,i=!1,s=void 0;try{for(var l,c=document.querySelectorAll(".react-draggable")[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,d=u.childNodes[0].childNodes[1].clientHeight;if(n[t][r])if(Math.round(.1*d)<=20){n[t][r].h=28;o=[].concat(S(o),[{tag:u,height:280}])}else{n[t][r].h=Math.round(.1*d)+8;var f=Math.round(d)+80;o=[].concat(S(o),[{tag:u,height:f}])}r++}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}var p=this;console.log(o),Promise.all(o.map(function(e){new Promise(function(t){e.tag.style.height=e.height+"px"})})).then(function(){p.setState({layouts:n},function(){console.log("item resized"),setTimeout(function(){(0,h.default)(".react-grid-item",".react-grid-layout")},1)})})}}},{key:"updateInput",value:function(e,t,n){var r=this,o=this.state,a=o.contents,i=o.title,s=(o.breakpoints,o.freezeUpdate);o.layouts,this.props.currentBreakpoint;if("title"===t){if((0,y.default)(n)===m.I18n.t("app.newPage.translation"))return;if((0,y.default)(n)===m.I18n.t("app.newPage.addTitle"))return;i?i[""+this.props.locale]=n:(i=new Object)[""+this.props.locale]=n,this.setState({title:i})}if("content"===t){if((0,y.default)(n)===m.I18n.t("app.newPage.draft"))return;if((0,y.default)(n)===m.I18n.t("app.newPage.translation"))return;if(a[e])a[e][""+this.props.locale]=n;else{if(s)return void this.setState({freezeUpdate:!1});a[e]=new Object,a[e][""+this.props.locale]=n}this.setState({contents:a},function(){console.log("item updated"),r.setItemHeigth()})}else console.log("!!!!"),this.setItemHeigth()}},{key:"onAddItem",value:function(){var e=this,t=this.state.layouts;Object.keys(this.state.layouts).map(function(n,r){t[n]=[].concat(S(t[n]),[{w:2,h:28,x:2*t[n].length%e.state.cols[n],y:0,i:t[n].length.toString(),moved:!1,static:!1}]),2*t[n].length%e.state.cols[n]==0&&e.setState({y:e.state.y+20})}),this.setState({layouts:t},function(){return console.log("item added")})}},{key:"onRemoveItem",value:function(e){var t=this,n=this.state,r=n.layouts,o=n.contents;this.props.locale;Object.keys(this.state.layouts).map(function(t,n){r[t].splice(e,1),r[t].map(function(e,t){e.i=t.toString()})}),o.splice(e,1),this.setState({transition:"none",freezeUpdate:!0,contents:o,layouts:r},function(){t.onSetLeaf(!1),setTimeout(function(){t.setState({transition:"height, transform"})},500)})}},{key:"onSetLeaf",value:function(e){this.props.setIsLoading(e);var t=this.props,n=t.match.params.id,r=(t.getLeaf,t.setLeaf),o=(t.setCurrentBreakpoint,t.currentBreakpoint,this.state),a=o.title,i=o.layouts,s=o.contents;o.breakpoints;r(n,a,i,s)}},{key:"gridItemFocus",value:function(e){this.setState({focused:e})}},{key:"changeBreakpoint",value:function(e){console.log(e),this.props.setCurrentBreakpoint(e)}},{key:"checkAllBreakpointAndUpdate",value:function(){for(var e=this,t=this.state.layouts,n=function(n){setTimeout(function(){console.log(Object.keys(t)[n],n),e.props.setCurrentBreakpoint(Object.keys(t)[n])},2e3*n)},r=0;r<Object.keys(t).length;r++)n(r)}},{key:"render",value:function(){var e=this,t=this.state,n=t.layouts,r=t.cols,o=t.breakpoints,l=t.checkedViews,c=t.title,u=t.scrolled,d=t.contents,f=t.focused,p=(t.alerts,this.props),y=p.locale,h=(p.leaf,p.currentBreakpoint),g=this.props;g.match.params.id,g.getLeaf,g.setLeaf;return this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" grid-layouts-container"},s.default.createElement("header",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" header-viewer"},s.default.createElement("h2",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])},m.I18n.t("app.newPage.title")||""),s.default.createElement("button",{onClick:this.onAddItem,"data-tip":"React-tooltip",className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" add-btn"},s.default.createElement(_.Add,null),s.default.createElement(k.default,{place:"bottom",type:"dark",effect:"solid"})),s.default.createElement("button",{onClick:function(t,n,r){return e.checkAllBreakpointAndUpdate()},className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" refresh-btn"},s.default.createElement(_.Refresh,null)),s.default.createElement("button",{onClick:function(){return e.onSetLeaf(!0)},className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" refresh-btn"},s.default.createElement(_.Refresh,null)),s.default.createElement("h3",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])},m.I18n.t("app.newPage.resolutions")),Object.entries(o).map(function(t,n){return s.default.createElement("button",{key:n,onClick:function(){return e.changeBreakpoint(t[0],t[1])},className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" "+((h===""+t[0]?"btn-focused "+t[0]:""+t[0])||"")},s.default.createElement(_.DesktopWindows,null),t[1],l&&l[""+t[0]]?s.default.createElement(_.Done,null):null,h===""+t[0]?s.default.createElement(w.default,{isLoading:!0,width:"20px"}):null)})),s.default.createElement("header",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" header-grid-layout-container"},s.default.createElement("div",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" "+(("title"===f?"title focused":"title")||"")},s.default.createElement(b.default,{index:"title",name:"title",updateInput:this.updateInput,gridItemFocus:this.gridItemFocus,content:c?c.hasOwnProperty(""+y)?c[""+y]:m.I18n.t("app.newPage.translation"):m.I18n.t("app.newPage.addTitle")})),s.default.createElement(v.default,{onEnter:function(t){t.viewportTop,t.event;e.setState({scrolled:!1})},onLeave:function(t){t.viewportTop,t.event;e.setState({scrolled:!0})}})),s.default.createElement(C,{autoSize:!0,rowHeight:10,margin:[0,0],isResizable:!0,isDraggable:!0,useCSSTransforms:!0,draggableCancel:".mce-content-body",cols:r,breakpoints:o,layouts:n,onLayoutChange:function(t,n){return e.onLayoutChange(t,n)},onDragStart:function(){return console.log("????")}},h?n[h].map(function(t,n){return s.default.createElement("div",{id:"item-"+t.i,key:t.i,"data-grid":{x:t.x,y:t.y,w:t.w,h:t.h},className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" "+((f===n?"focused":null)||"")},s.default.createElement("div",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" item"},s.default.createElement("div",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])+" remove"},s.default.createElement(_.DeleteOutlined,{fontSize:"small",onClick:e.onRemoveItem.bind(e,n)}),t.h,s.default.createElement("br",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])}),t.y,s.default.createElement("br",{className:a.default.dynamic([["3493227816",[j.default.primaryColor,e.state.transition,j.default.mceBackground]]])}),t.i),s.default.createElement(b.default,{setItemHeigth:e.setItemHeigth,index:n,name:"content",updateInput:e.updateInput,gridItemFocus:e.gridItemFocus,content:d[n]?d[n].hasOwnProperty(""+y)?d[n][""+y]:m.I18n.t("app.newPage.translation"):m.I18n.t("app.newPage.draft")})))}):null),s.default.createElement(x.default,{visible:u})),s.default.createElement(a.default,{id:"3493227816",dynamic:[j.default.primaryColor,e.state.transition,j.default.mceBackground]},[".header-viewer.__jsx-style-dynamic-selector{position:fixed;top:0;margin-bottom:1rem;width:100%;background:"+j.default.primaryColor+";z-index:99999;}",".grid-layouts-container.__jsx-style-dynamic-selector{margin-top:200px;}",".grid-layouts-container.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{margin:0 .25rem;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{border:1px dashed rgba(0,0,0,0.1);margin:1rem 5px;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.focused.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.cssTransforms.__jsx-style-dynamic-selector{-webkit-transition-duration:500ms;-webkit-transition-duration:500ms;transition-duration:500ms;-webkit-transition-property:"+e.state.transition+";-webkit-transition-property:"+e.state.transition+";transition-property:"+e.state.transition+";-webkit-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.resizing.__jsx-style-dynamic-selector{z-index:1;will-change:width,height;-webkit-transition:none;-webkit-transition:none;transition:none;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.react-draggable-dragging.__jsx-style-dynamic-selector{-webkit-transition-duration:500ms;-webkit-transition-duration:500ms;transition-duration:500ms;-webkit-transition-property:-webkit-transform;-webkit-transition-property:-webkit-transform;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-webkit-transition-property:-webkit-transform;-webkit-transition-property:transform;transition-property:transform;-webkit-transition-property:-webkit-transform,-webkit-transform;-webkit-transition-property:transform,-webkit-transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear;z-index:3;will-change:transform;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector{cursor:-webkit--webkit-grab;cursor:-moz--webkit-grab;cursor:-webkit-grab;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.focused.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector{background:"+j.default.mceBackground+";border:1px dashed rgba(0,0,0,0.1);margin:20px 5px;height:calc(100% - 1rem);overflow:hidden;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.__jsx-style-dynamic-selector{display:none;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.visible.__jsx-style-dynamic-selector{position:absolute;top:20px;left:5px;right:5px;bottom:-4px;padding:1rem;background:rgba(0,0,0,0.1);display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.visible.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;font-size:1.5rem;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .remove.__jsx-style-dynamic-selector{position:absolute;right:.5rem;top:1.5em;z-index:1;cursor:pointer;color:rgba(0,0,0,0.26);}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{leaf:e.leaf,locale:e.i18n.locale,currentBreakpoint:e.currentBreakpoint}},function(e){return(0,c.bindActionCreators)(r({},u,d,f,p),e)})(M)},function(e,t,n){"use strict";e.exports=function(e,t){var n=function(e,t,n,r){var o=document.createEvent("MouseEvents");o.initMouseEvent(e,!0,!0,window,1,1,1,n,r,!1,!1,!1,!1,0,t),t.dispatchEvent(o)},r=document.querySelector(e),o=document.querySelector(t);if(!r||!o)return!1;var a=o.getBoundingClientRect();console.log(a);var i=Math.floor((a.left+a.right)/2),s=Math.floor((a.top+a.bottom)/2);a=r.getBoundingClientRect();var l=Math.floor((a.left+a.right)/2),c=Math.floor((a.top+a.bottom)/2);return console.log(l,c),n("mousedown",r,l,c),n("dragstart",r,l,c),n("mouseenter",o,i,s),n("dragenter",o,i,s),n("mouseover",o,i,s),n("dragover",o,i,s),n("drop",o,i,s),n("dragend",r,i,s),n("mouseup",r,i,s),!0}},function(e,t,n){"use strict";e.exports=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},function(e,t){e.exports=require("react-tooltip")},function(e,t){e.exports=require("shortid")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=x(n(3)),i=n(0),s=x(i),l=(x(n(10)),n(1)),c=n(2),u=v(n(14)),d=v(n(18)),f=v(n(6)),p=n(8),m=(x(n(19)),x(n(15)),n(21)),y=x(n(22)),h=x(n(23)),b=(x(n(27)),n(9),v(n(24))),g=x(n(4));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}var w=(0,m.WidthProvider)(m.Responsive),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={initDone:!1,scrolled:!1,id:null,title:null,contents:[],breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:320},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{lg:[],md:[],sm:[],xs:[],xxs:[]}},n.setItemHeigth=n.setItemHeigth.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getLeaf(e),this.setState({id:e,initDone:!0})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.match.params.id,a=r.leaf,i=(r.locale,r.currentBreakpoint),s=this.state,l=(s.title,s.contents,s.layouts,s.breakpoints);if(void 0===e)return!1;this.state.id!==o&&this.setState({id:o},function(){n.props.getLeaf(o)}),e.locale,e.leaf!==a&&a.layouts&&this.setState({title:JSON.parse(a.title),layouts:JSON.parse(a.layouts),contents:JSON.parse(this.props.leaf.contents)}),e.currentBreakpoint!==i&&(document.querySelector("#view-content").style.maxWidth=l[i]+60+"px",window.dispatchEvent(new Event("resize")),setTimeout(function(){n.setItemHeigth()},1e3))}},{key:"setItemHeigth",value:function(){var e=this;this.state.contents.length>0&&function(){var t=e.props,n=(t.leaf,t.currentBreakpoint),r=e.state.layouts,o=0,a=function(e){var t=e.childNodes[0].childNodes[0].clientHeight;Object.keys(r).map(function(e,a){r[e][o]&&(n!==e||(Math.round(.1*t)<20?(20-r[e][o].h,r[e][o].h=20):(Math.round(.1*t)+6-r[e][o].h,r[e][o].h=Math.round(.1*t)+6)))}),o++},i=!0,s=!1,l=void 0;try{for(var c,u=document.querySelectorAll(".react-grid-item")[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){a(c.value)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e.setState({layouts:r},function(){e.onSetLeaf(!1),console.log("item resized"),console.log(e.state.layouts)})}()}},{key:"onLayoutChange",value:function(e,t){console.log("layouts changed"),this.setState({layouts:t})}},{key:"onSetLeaf",value:function(e){this.props.setIsLoading(e);var t=this.props,n=t.match.params.id,r=(t.getLeaf,t.setLeaf),o=(t.setCurrentBreakpoint,t.currentBreakpoint,this.state),a=o.title,i=o.layouts,s=o.contents;o.breakpoints;r(n,a,i,s)}},{key:"render",value:function(){var e=this,t=this.state,n=t.layouts,r=t.cols,o=t.breakpoints,l=(t.checkedViews,t.title),c=t.scrolled,u=t.contents,d=t.focused,f=(t.alerts,this.props),m=f.locale,b=(f.leaf,f.currentBreakpoint),v=this.props;v.match.params.id,v.getLeaf,v.setLeaf;return console.log(n),this.state.initDone&&s.default.createElement(i.Fragment,null,s.default.createElement("div",{className:a.default.dynamic([["1430094150",[g.default.background]]])+" grid-layouts-container"},o[b],s.default.createElement("header",{className:a.default.dynamic([["1430094150",[g.default.background]]])+" header-grid-layout-container"},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:l?l.hasOwnProperty(""+m)?l[""+m]:p.I18n.t("app.newPage.translation"):p.I18n.t("app.newPage.addTitle")},className:a.default.dynamic([["1430094150",[g.default.background]]])+" title"}),s.default.createElement(y.default,{onEnter:function(t){t.viewportTop,t.event;e.setState({scrolled:!1})},onLeave:function(t){t.viewportTop,t.event;e.setState({scrolled:!0})}})),s.default.createElement(w,{autoSize:!0,rowHeight:10,margin:[0,0],isResizable:!1,isDraggable:!1,useCSSTransforms:!0,cols:r,breakpoints:o,layouts:n,onLayoutChange:function(t,n){return e.onLayoutChange(t,n)},onWidthChange:function(){return setTimeout(function(){console.log("width changed")},1e3)}},b?n[b].map(function(e,t){return s.default.createElement("div",{key:t,"data-grid":{x:e.x,y:e.y,w:e.w,h:e.h},className:a.default.dynamic([["1430094150",[g.default.background]]])+" "+((d===t?"focused":null)||"")},s.default.createElement("div",{className:a.default.dynamic([["1430094150",[g.default.background]]])+" item"},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:u[t]?u[t].hasOwnProperty(""+m)?u[t][""+m]:p.I18n.t("app.newPage.translation"):p.I18n.t("app.newPage.draft")},className:a.default.dynamic([["1430094150",[g.default.background]]])+" item-content"})))}):null),s.default.createElement(h.default,{visible:c})),s.default.createElement(a.default,{id:"1430094150",dynamic:[g.default.background]},[".grid-layouts-container.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{margin:0 .25rem;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{border:1px dashed rgba(0,0,0,0.1);margin:1rem 5px;}",".grid-layouts-container.__jsx-style-dynamic-selector .title.focused.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.focused.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector{border:2px dashed rgba(0,0,0,0.1);}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector{background:"+g.default.background+";border:1px dashed rgba(0,0,0,0.1);margin:20px 5px;height:calc(100% - 1rem);overflow:hidden;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.__jsx-style-dynamic-selector{display:none;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.visible.__jsx-style-dynamic-selector{position:absolute;top:20px;left:5px;right:5px;bottom:-4px;padding:1rem;background:rgba(0,0,0,0.1);display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .item-alert.visible.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;font-size:1.5rem;}",".grid-layouts-container.__jsx-style-dynamic-selector .react-grid-item.__jsx-style-dynamic-selector .item.__jsx-style-dynamic-selector .remove.__jsx-style-dynamic-selector{position:absolute;right:.5rem;top:1.5em;z-index:1;cursor:pointer;color:rgba(0,0,0,0.26);}"]))}}]),t}();t.default=(0,l.connect)(function(e){return{leaf:e.leaf,locale:e.i18n.locale,currentBreakpoint:e.currentBreakpoint}},function(e){return(0,c.bindActionCreators)(r({},u,d,f,b),e)})(_)},function(e,t,n){"use strict";e.exports=function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),a=window.setTimeout(function(){t(r+o)},o);return e=r+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},function(e,t,n){"use strict";e.exports=function(){var e=document.getElementById("canvas"),t=e.getContext("2d"),n=window.innerWidth/2,r=window.innerHeight/2,o=e.width=n,a=e.height=r;t.fillStyle="#000";var i=[],s=8,l=null;function c(){this.r=y(25,170),this.x=y(this.r,o-this.r),this.y=y(this.r,a-this.r),this.vx=y(25,100)/100,this.vy=y(25,100)/100,this.update=function(){this.edges(),this.x+=this.vx,this.y+=this.vy},this.edges=function(){(this.x<this.r||this.x>o-this.r)&&(this.vx*=-1),(this.y<this.r||this.y>a-this.r)&&(this.vy*=-1)},this.draw=function(){t.strokeStyle="#ccc",t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.stroke()}}for(var u=0;u<s;u++){var d=new c;i.push(d)}function f(){l=window.requestAnimationFrame(f),t.clearRect(0,0,o,a);for(var e=0;e<i.length;e++)(n=i[e]).update(),n.draw();for(e=0;e<i.length;e++)for(var n=i[e],r=e+1;r<i.length;r++){var s=i[r],c=(u=n,p=void 0,y=void 0,p=(d=s).x-u.x,y=d.y-u.y,Math.sqrt(p*p+y*y));c<n.r+s.r&&c>Math.abs(n.r-s.r)&&m(n,s,c)}var u,d,p,y}function p(){i.length=0;for(var t=0;t<s;t++){var u=new c;i.push(u)}l&&(window.cancelAnimationFrame(l),l=null),o=e.width=n,a=e.height=r,f()}function m(e,t,n){var r={},o={},a={},i=(Math.pow(e.r,2)-Math.pow(t.r,2)+Math.pow(n,2))/(2*n),s=Math.sqrt(Math.pow(e.r,2)-Math.pow(i,2));r.x=e.x+i*(t.x-e.x)/n,r.y=e.y+i*(t.y-e.y)/n,o.x=r.x+s*(t.y-e.y)/n,o.y=r.y-s*(t.x-e.x)/n,a.x=r.x-s*(t.y-e.y)/n,a.y=r.y+s*(t.x-e.x)/n,h(o),h(a)}function y(e,t){return~~(Math.random()*(t-e+1)+e)}function h(e){t.fillStyle="#000",t.beginPath(),t.arc(e.x,e.y,2,0,2*Math.PI),t.fill()}setTimeout(function(){p(),addEventListener("resize",p,!1)},15)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.body,n=e.title,r=e.reduxState;return"\n  <!DOCTYPE html>\n  <html>\n    <head>\n      <title>"+n+"</title>\n      "+e.styles+'\n      <meta http-equiv="X-UA-Compatible" content="IE=edge">\n      <meta name="google-site-verification" content="p14BDIqD5_MS_SZTZJau1LG5wgP4Gp4dCAUNyyuAjvs" />\n      <meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"/>\n      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">\n      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/css/swiper.min.css">\n      <link href="https://fonts.googleapis.com/css?family=Muli:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">\n\n\n    </head>\n    <body>\n      <div id="root">'+t+"</div>\n      <script>\n         window.__REDUX_STATE__ = "+JSON.stringify(r).replace(/</g,"\\u003c")+'\n      <\/script>\n      <script src="/public/client.js"><\/script>\n    </body>\n  </html>\n'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var r=n(2),o=n(8),a=p(n(86)),i=p(n(87)),s=p(n(88)),l=p(n(89)),c=p(n(90)),u=p(n(91)),d=p(n(92)),f=p(n(93));function p(e){return e&&e.__esModule?e:{default:e}}t.reducer=(0,r.combineReducers)({currentBreakpoint:f.default,results:a.default,auth:i.default,signUpState:s.default,isLoading:l.default,leaves:c.default,leaf:u.default,styles:d.default,i18n:o.i18nReducer})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{advantage:"test",contents:"test",description:"test",id:4,price:0,requirement:"test",title:"<p>ooOOOOoo</p>"}],t=arguments[1];switch(t.type){case"SET_RESULTS":return t.results;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={isSignedIn:!1,isAdmin:!1,errors:[],email:"",password:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SET_ERRORS":return r({},e,{errors:[t.error]});case"SET_AUTH":return r({},e,t.auth);default:return r({},e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={accountStatus:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SET_ACCOUNT_STATUS":return console.log(t.accountStatus),r({},e,{accountStatus:[t.accountStatus]});default:return r({},e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case"SET_IS_LOADING":return t.isLoading;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"SET_LEAVES":return t.results;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SET_LEAF":return t.result;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"SET_COMPONENT_STYLES":return t.result;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lg",t=arguments[1];switch(t.type){case"SET_CURRENT_BREAKPOINT":return t.breakpoint;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUsers=void 0;var r,o=n(5),a=(r=o)&&r.__esModule?r:{default:r};t.fetchUsers=function(){return a.default.get("public/users.json").then(function(e){return e.data})}},function(e,t){e.exports=require("cookie-session")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("async")},function(e,t,n){"use strict";n(28);var r=n(99),o=r("pool"),a={ifEmailExist:function(e,t){var n=r("connexion");n.connect(),n.query("SELECT id FROM users WHERE email = ?",[e],function(e,r){e?n.end():(r.length>0?t(!0):t(!1),n.end())})},setPassword:function(e,t,n,o,a){var i=r("connexion"),s={email:e,password:t,name:n,first_name:o,available:1};i.connect(),i.query("INSERT INTO users SET ?",s,function(e,t){if(e)return console.log(e),void i.end();a(t)})},checkUserRight:function(e,t){var n=r("connexion");n.connect(),n.query("SELECT * FROM users WHERE email = ?",[e],function(e,r){e?n.end():r&&(1===r[0].available?t(r[0]):1!==r[0].available&&t("waitForConfirm"))})},validateAccount:function(e,t){var n=r("connexion");n.connect(),n.query("UPDATE users SET available = ? WHERE email = ?",[1,e],function(e,r){e?n.end():r&&t(!0)})},loadPassword:function(e,t){var n=r("connexion");n.connect(),n.query("SELECT id, password FROM users WHERE email = ?",[e],function(e,r){e?n.end():r&&t(r[0].password)})},setStyles:function(e,t,n,o){console.log(e,t,n);var a=r("connexion");a.connect(),a.query("REPLACE INTO `styles` SET `id`= ?,`element`= ?, `styles`= ?",[e,t,n],function(e,t){if(e)return console.log(e),void a.end();o(t)})},getStyles:function(e,t){var n=r("connexion");n.connect(),n.query("SELECT * FROM styles WHERE element = ?",[e],function(e,r){if(e)return console.log(e),void n.end();t(r),n.end()})},setLeaf:function(e,t,n,r,a){console.log("?????:::)");o.query("REPLACE INTO `leaves` SET `id`= ?,`title`= ?, `layouts`= ?, `contents`= ? ",[e,t,n,r],function(e,t){e?console.log(e):a(t)}),console.log("All Connections "+o._allConnections.length),console.log("Acquiring Connections "+o._acquiringConnections.length),console.log("Free Connections "+o._freeConnections.length),console.log("Queue Connections "+o._connectionQueue.length),o.on("release",function(e){console.log("Connection %d released setLeaf",e.threadId)})},deleteLeaf:function(e,t){console.log(e);var n=r("connexion");n.connect(),n.query("DELETE FROM leaves WHERE id = ?",[e],function(e,r){e?n.end():t(r)})},getLeaf:function(e,t){o.query("SELECT * FROM leaves WHERE id = ?",[e],function(e,n){e?console.log(e):t(n)}),o.on("release",function(e){console.log("Connection %d released getLeaf",e.threadId)})},getLeaves:function(e){o.query("SELECT * FROM leaves",function(t,n){t?console.log(t):e(n)}),o.on("release",function(e){console.log("Connection %d released getLeaves",e.threadId)})}};e.exports=a},function(e,t,n){"use strict";var r=n(28);e.exports=function(e){var t=null,n=null;return t=r.createConnection({host:"127.0.0.1",socketPath:"/srv/run/mysqld/mysqld.sock",user:"root",password:"",database:"Asin"}),n=r.createPool({host:"127.0.0.1",socketPath:"/srv/run/mysqld/mysqld.sock",user:"root",password:"",database:"Asin",queueLimit:0,connectionLimit:100}),"connexion"===e?t:n}},function(e,t,n){"use strict";var r=n(101),o="3zTvzr3p67VC61jmV54rIYu1545x4TlY",a="88iZ0O6vOoEa",i={encrypt:function(e,t){var n=r.createCipheriv("aes-256-gcm",o,a),i=n.update(e,"utf8","hex");i+=n.final("hex");n.getAuthTag();return t(i)},decrypt:function(e,t){var n=r.createDecipheriv("aes-256-gcm",o,a);n.setAuthTag(e.tag);var i=n.update(e.content,"hex","utf8");return t(i+=n.final("utf8"))},compare:function(e,t,n){n((e=this.encrypt(e,function(e){return e}))===t)}};e.exports=i},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("styled-jsx/server")},function(e,t){e.exports=require("serve-favicon")}]);